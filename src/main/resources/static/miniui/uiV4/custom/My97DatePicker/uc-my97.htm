<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="../../../boot.js" type="text/javascript"></script>
    <script src="my97/WdatePicker.js" type="text/javascript"></script>
    <script src="uc-my97.js" type="text/javascript"></script>
</head>
<body>
    <input class="uc-datepicker" id="a1" style="width:100px;" format="yyyy/MM/dd"/> 
    
    <button onclick="getValue()">getValue</button>

    <button onclick="setValue()">setValue</button>
   
    <button onclick="getRow()">getRow</button>

    <div id="datagrid1" class="mini-datagrid" style="width:800px;height:280px;" 
            url="../../data/AjaxService.aspx?method=SearchEmployees" 
            allowResize="true" 
            allowCellEdit="true" allowCellSelect="true" multiSelect="true" 
            editNextOnEnterKey="true" 
        >
        <div property="columns">
            <div type="indexcolumn"></div>
            <div type="checkcolumn"></div>
            <div field="loginname" allowResize="false" width="120" headerAlign="center" allowSort="true">员工帐号
                <input property="editor" class="mini-textbox" style="width:100%;" />
            </div>
            <div field="age" width="100" allowSort="true" >年龄
                <input property="editor" class="mini-spinner"  minValue="0" maxValue="200" value="25" style="width:100%;"/>
            </div>            
            <div field="createtime" width="60" headerAlign="center" align="center" dateFormat="yyyy-MM-dd">时间
                <input property="editor" class="uc-datepicker" />            
            </div>
            <div field="time" width="60" headerAlign="center" align="center" dateFormat="yyyy-MM-dd">时间2
                <input property="editor" class="uc-datepicker" />            
            </div>                                   
        </div>
    </div>

</body>
</html>
<script type="text/javascript">
 

    mini.parse();

    var grid = mini.get("datagrid1");
    grid.load();
    grid.on("cellbeginedit", function (e) {
      //debugger
    })
    function getValue() {
        var value = mini.get("a1").getValue();
        
        alert(value)
    }
    function setValue() {
        var value = new Date();
        mini.get("a1").setValue(value);
    }
    function getRow() {
        var row = grid.getSelected();
        if (row) {
            var json = mini.encode(row)
            alert(json);
        }
    }
    grid.on("cellcommitedit", function (e) {
    //debugger
    })
</script>